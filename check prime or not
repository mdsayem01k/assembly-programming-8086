;Write a program to check whether a number inputted via
;keyboard is prime number or not.


.MODEL SMALL
.STACK 100H 
.DATA
    MSG1 DB 10,13,'Enter Number: $'
    MSG2 DB 10,13,'prime $'
    MSG3 DB 10,13,'not prime$'


.CODE

MAIN PROC
   MOV AX,@DATA
   MOV DS,AX
   
   LEA DX,MSG1
   MOV AH,9
   INT 21H
   
   ;INPUT   
   MOV BH,0
   MOV BL,10D
	   

   INPUT:
       MOV AH,1
       INT 21H
       CMP AL,13D
       JNE NUMBER 
       
       JMP CHECK
   
   
   NUMBER:
       SUB AL,30H
       MOV CL,AL
       MOV AL,BH
       MUL BL
       ADD AL,CL
       MOV BH,AL
       
       JMP INPUT   
                    ; input store in bh=n
  
   CHECK:   
   
       CMP BH,1
       JLE NOT_PRIME
       
       MOV CX,2
       AND AX,0
       AND DX,0
       
       MOV AL,BH
       DIV CX
       
       MOV CX,AX            ;DX:AX / CX  = REM = DX , QUE = AX   
   
   ISPRIME:
       CMP CX,2
       JL PRIME
       AND AX,0
       AND DX,0
       MOV AL,BH              ;DX:AX / CX  = REM = DX , QUE = AX 
       DIV CX 
       DEC CX
       CMP DX,0
       JE NOT_PRIME
       JMP ISPRIME
	   
	   

       
         
    PRIME:
         LEA DX,MSG2
         MOV AH,9
         INT 21H 
         jmp exit
     
    not_prime:
         LEA DX,MSG3
         MOV AH,9
         INT 21H
  	   
    EXIT:	   
	  	   MOV AH,4CH
	  	   INT 21H  
			   
	MAIN ENDP
END MAIN
